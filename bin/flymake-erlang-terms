#!/usr/bin/env escript
-export([main/1]).

main([FileName]) ->
	case file:eval(FileName) of
		ok ->
			ok;
		{error, Error} ->
			print_error(FileName, Error),
			error
	end.

%%% unfortunately the `file:eval' returns only the first error.
print_error(FileName, Error) ->
	Descr = file:format_error(Error),
	io:format("~s:~s~n", [FileName, Descr]).
